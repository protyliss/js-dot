import {fromDateDigit} from './from-date-digit';

describe('toDateDigit', () => {
    const offset = (new Date).getTimezoneOffset() / 60;
    const tz = (offset > 0 ? '-' : '+') + ('' + Math.abs(offset)).padStart(2, '0');

    [
        // locale timezone
        ['19700101'            , `1970-01-01T00:00:00.000${tz}:00`],
        ['1970010112'          , `1970-01-01T12:00:00.000${tz}:00`],
        ['197001011212'        , `1970-01-01T12:12:00.000${tz}:00`],
        ['19700101121212'      , `1970-01-01T12:12:12.000${tz}:00`],
        ['197001011212121'     , `1970-01-01T12:12:12.100${tz}:00`],
        ['1970010112121212'    , `1970-01-01T12:12:12.120${tz}:00`],
        ['19700101121212123'   , `1970-01-01T12:12:12.123${tz}:00`],

        // + 10
        ['19700101.1'             , '1970-01-01T00:00:00.000+10:00'],
        ['1970010112.1'           , '1970-01-01T12:00:00.000+10:00'],
        ['197001011212.1'         , '1970-01-01T12:12:00.000+10:00'],
        ['19700101121212.1'       , '1970-01-01T12:12:12.000+10:00'],
        ['197001011212121.1'      , '1970-01-01T12:12:12.100+10:00'],
        ['1970010112121212.1'     , '1970-01-01T12:12:12.120+10:00'],
        ['19700101121212123.1'    , '1970-01-01T12:12:12.123+10:00'],
        ['+19700101.1'            , '1970-01-01T00:00:00.000+10:00'],
        ['+1970010112.1'          , '1970-01-01T12:00:00.000+10:00'],
        ['+197001011212.1'        , '1970-01-01T12:12:00.000+10:00'],
        ['+19700101121212.1'      , '1970-01-01T12:12:12.000+10:00'],
        ['+197001011212121.1'     , '1970-01-01T12:12:12.100+10:00'],
        ['+1970010112121212.1'    , '1970-01-01T12:12:12.120+10:00'],
        ['+19700101121212123.1'   , '1970-01-01T12:12:12.123+10:00'],

        // -10
        ['-19700101.1'            , '1970-01-01T00:00:00.000-10:00'],
        ['-1970010112.1'          , '1970-01-01T12:00:00.000-10:00'],
        ['-197001011212.1'        , '1970-01-01T12:12:00.000-10:00'],
        ['-19700101121212.1'      , '1970-01-01T12:12:12.000-10:00'],
        ['-197001011212121.1'     , '1970-01-01T12:12:12.100-10:00'],
        ['-1970010112121212.1'    , '1970-01-01T12:12:12.120-10:00'],
        ['-19700101121212123.1'   , '1970-01-01T12:12:12.123-10:00'],
    ].forEach(([digitTimestamp, timestamp]) => {
        test(`${digitTimestamp} to ${timestamp}`, () => {
            expect(
                fromDateDigit(digitTimestamp).getTime()
            ).toBe(
                (new Date(timestamp)).getTime()
            )
        });

    })
});
